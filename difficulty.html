<!DOCTYPE html>
<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0, viewport-fit=cover" name="viewport" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#13daec">
    <title>New Game & Difficulty - Sudoku</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#13daec",
                        "background-light": "#f6f8f8",
                        "background-dark": "#102022",
                        "text-light": "#102022",
                        "text-dark": "#f6f8f8",
                        "card-light": "#ffffff",
                        "card-dark": "#1c2c2e",
                        "beginner": "#22d3ee",
                        "easy": "#a3e635",
                        "medium": "#38bdf8",
                        "hard": "#f97316",
                        "expert": "#ef4444",
                        "master": "#8b5cf6"
                    },
                    fontFamily: {
                        "display": ["Plus Jakarta Sans", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                    boxShadow: {
                        'soft-beginner': '0 4px 16px -4px rgb(34 211 238 / 0.4)',
                        'soft-easy': '0 4px 16px -4px rgb(163 230 53 / 0.4)',
                        'soft-medium': '0 4px 16px -4px rgb(56 189 248 / 0.4)',
                        'soft-hard': '0 4px 16px -4px rgb(249 115 22 / 0.4)',
                        'soft-expert': '0 4px 16px -4px rgb(239 68 68 / 0.4)',
                        'soft-master': '0 4px 16px -4px rgb(139 92 246 / 0.4)',
                    }
                },
            },
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }

        body {
            min-height: 100dvh;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }

        .btn-gradient-beginner {
            background: linear-gradient(to top right, #22d3ee, #67e8f9);
        }

        .btn-gradient-easy {
            background: linear-gradient(to top right, #a3e635, #bef264);
        }

        .btn-gradient-medium {
            background: linear-gradient(to top right, #38bdf8, #7dd3fc);
        }

        .btn-gradient-hard {
            background: linear-gradient(to top right, #f97316, #fb923c);
        }

        .btn-gradient-expert {
            background: linear-gradient(to top right, #ef4444, #f87171);
        }

        .btn-gradient-master {
            background: linear-gradient(to top right, #8b5cf6, #a78bfa);
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
    <div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
        <div
            class="flex items-center p-4 pb-2 justify-between sticky top-0 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm z-10">
            <button onclick="window.location.href='index.html'"
                class="flex size-12 shrink-0 items-center justify-start transition-transform active:scale-90">
                <span class="material-symbols-outlined text-3xl">arrow_back_ios_new</span>
            </button>
            <h1 class="text-xl font-bold leading-tight tracking-[-0.015em] flex-1 text-center" data-i18n="newGame">New Game</h1>
            <div class="size-12 shrink-0"></div>
        </div>
        <main class="flex-grow p-3 space-y-3 overflow-y-auto">
            <!-- Game Mode Toggle -->
            <div class="bg-card-light dark:bg-card-dark rounded-xl p-3 shadow-sm mb-4">
                <p class="text-xs text-gray-500 mb-2 text-center" data-i18n="gameMode">Game Mode</p>
                <div class="flex gap-2">
                    <button id="mode-classic" onclick="setMode('classic')"
                        class="flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 bg-primary text-white">
                        <span class="material-symbols-outlined text-base align-middle mr-1">sports_esports</span><span data-i18n="classic">Classic</span>
                    </button>
                    <button id="mode-zen" onclick="setMode('zen')"
                        class="flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300">
                        <span class="material-symbols-outlined text-base align-middle mr-1">spa</span><span data-i18n="zen">Zen</span>
                    </button>
                    <button id="mode-timeattack" onclick="setMode('timeattack')"
                        class="flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300">
                        <span class="material-symbols-outlined text-base align-middle mr-1">timer</span><span data-i18n="timeAttack">Rush</span>
                    </button>
                </div>
                <p id="mode-description" class="text-xs text-gray-400 mt-2 text-center" data-i18n="classicDesc">3 mistakes allowed, timer counts up</p>
            </div>

            <!-- Beginner -->
            <div
                class="group/card block rounded-xl bg-card-light dark:bg-card-dark overflow-hidden transition-all duration-300 shadow-soft-beginner hover:scale-[1.03] active:scale-[0.98]">
                <div class="flex items-center gap-3 p-3">
                    <div class="flex items-center justify-center size-14 rounded-lg bg-beginner/20 dark:bg-beginner/10">
                        <span class="text-3xl">üå±</span>
                    </div>
                    <div class="flex-grow">
                        <p class="text-base font-bold leading-tight" data-i18n="beginner">Beginner</p>
                        <p class="text-sm text-beginner">‚òÜ<span class="opacity-30">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</span></p>
                        <p class="text-xs text-text-light/70 dark:text-text-dark/70" id="beginner-time"><span data-i18n="bestTime">Best</span>: --:--</p>
                    </div>
                    <button onclick="startGame('beginner')"
                        class="btn-gradient-beginner px-4 py-2 rounded-lg text-white font-bold text-sm shadow-sm transition-transform duration-200 active:scale-95" data-i18n="play">Play</button>
                </div>
            </div>

            <!-- Easy -->
            <div
                class="group/card block rounded-xl bg-card-light dark:bg-card-dark overflow-hidden transition-all duration-300 shadow-soft-easy hover:scale-[1.03] active:scale-[0.98]">
                <div class="flex items-center gap-3 p-3">
                    <div class="flex items-center justify-center size-14 rounded-lg bg-easy/20 dark:bg-easy/10">
                        <span class="text-3xl">üçÄ</span>
                    </div>
                    <div class="flex-grow">
                        <p class="text-base font-bold leading-tight" data-i18n="easy">Easy</p>
                        <p class="text-sm text-easy">‚òÖ<span class="opacity-30">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</span></p>
                        <p class="text-xs text-text-light/70 dark:text-text-dark/70" id="easy-time"><span data-i18n="bestTime">Best</span>: --:--</p>
                    </div>
                    <button onclick="startGame('easy')"
                        class="btn-gradient-easy px-4 py-2 rounded-lg text-white font-bold text-sm shadow-sm transition-transform duration-200 active:scale-95" data-i18n="play">Play</button>
                </div>
            </div>

            <!-- Medium -->
            <div
                class="group/card block rounded-xl bg-card-light dark:bg-card-dark overflow-hidden transition-all duration-300 shadow-soft-medium hover:scale-[1.03] active:scale-[0.98]">
                <div class="flex items-center gap-3 p-3">
                    <div class="flex items-center justify-center size-14 rounded-lg bg-medium/20 dark:bg-medium/10">
                        <span class="text-3xl">üß©</span>
                    </div>
                    <div class="flex-grow">
                        <p class="text-base font-bold leading-tight" data-i18n="medium">Medium</p>
                        <p class="text-sm text-medium">‚òÖ‚òÖ<span class="opacity-30">‚òÜ‚òÜ‚òÜ‚òÜ</span></p>
                        <p class="text-xs text-text-light/70 dark:text-text-dark/70" id="medium-time"><span data-i18n="bestTime">Best</span>: --:--</p>
                    </div>
                    <button onclick="startGame('medium')"
                        class="btn-gradient-medium px-4 py-2 rounded-lg text-white font-bold text-sm shadow-sm transition-transform duration-200 active:scale-95" data-i18n="play">Play</button>
                </div>
            </div>

            <!-- Hard -->
            <div
                class="group/card block rounded-xl bg-card-light dark:bg-card-dark overflow-hidden transition-all duration-300 shadow-soft-hard hover:scale-[1.03] active:scale-[0.98]">
                <div class="flex items-center gap-3 p-3">
                    <div class="flex items-center justify-center size-14 rounded-lg bg-hard/20 dark:bg-hard/10">
                        <span class="text-3xl">üî•</span>
                    </div>
                    <div class="flex-grow">
                        <p class="text-base font-bold leading-tight" data-i18n="hard">Hard</p>
                        <p class="text-sm text-hard">‚òÖ‚òÖ‚òÖ<span class="opacity-30">‚òÜ‚òÜ‚òÜ</span></p>
                        <p class="text-xs text-text-light/70 dark:text-text-dark/70" id="hard-time"><span data-i18n="bestTime">Best</span>: --:--</p>
                    </div>
                    <button onclick="startGame('hard')"
                        class="btn-gradient-hard px-4 py-2 rounded-lg text-white font-bold text-sm shadow-sm transition-transform duration-200 active:scale-95" data-i18n="play">Play</button>
                </div>
            </div>

            <!-- Expert -->
            <div
                class="group/card block rounded-xl bg-card-light dark:bg-card-dark overflow-hidden transition-all duration-300 shadow-soft-expert hover:scale-[1.03] active:scale-[0.98]">
                <div class="flex items-center gap-3 p-3">
                    <div class="flex items-center justify-center size-14 rounded-lg bg-expert/20 dark:bg-expert/10">
                        <span class="text-3xl">üíÄ</span>
                    </div>
                    <div class="flex-grow">
                        <p class="text-base font-bold leading-tight" data-i18n="expert">Expert</p>
                        <p class="text-sm text-expert">‚òÖ‚òÖ‚òÖ‚òÖ<span class="opacity-30">‚òÜ‚òÜ</span></p>
                        <p class="text-xs text-text-light/70 dark:text-text-dark/70" id="expert-time"><span data-i18n="bestTime">Best</span>: --:--</p>
                    </div>
                    <button onclick="startGame('expert')"
                        class="btn-gradient-expert px-4 py-2 rounded-lg text-white font-bold text-sm shadow-sm transition-transform duration-200 active:scale-95" data-i18n="play">Play</button>
                </div>
            </div>

            <!-- Master -->
            <div
                class="group/card block rounded-xl bg-card-light dark:bg-card-dark overflow-hidden transition-all duration-300 shadow-soft-master hover:scale-[1.03] active:scale-[0.98]">
                <div class="flex items-center gap-3 p-3">
                    <div class="flex items-center justify-center size-14 rounded-lg bg-master/20 dark:bg-master/10">
                        <span class="text-3xl">üëë</span>
                    </div>
                    <div class="flex-grow">
                        <p class="text-base font-bold leading-tight" data-i18n="master">Master</p>
                        <p class="text-sm text-master">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ<span class="opacity-30">‚òÜ</span></p>
                        <p class="text-xs text-text-light/70 dark:text-text-dark/70" id="master-time"><span data-i18n="bestTime">Best</span>: --:--</p>
                    </div>
                    <button onclick="startGame('master')"
                        class="btn-gradient-master px-4 py-2 rounded-lg text-white font-bold text-sm shadow-sm transition-transform duration-200 active:scale-95" data-i18n="play">Play</button>
                </div>
            </div>
        </main>
    </div>

    <script src="translations.js"></script>
    <script>
        // Load dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.documentElement.classList.add('dark');
        }

        // Load best times
        function loadBestTimes() {
            const difficulties = ['beginner', 'easy', 'medium', 'hard', 'expert', 'master'];
            difficulties.forEach(diff => {
                const bestTime = localStorage.getItem(`sudoku_best_${diff}`);
                if (bestTime) {
                    const el = document.getElementById(`${diff}-time`);
                    if (el) el.innerHTML = `<span data-i18n="bestTime">${t('bestTime')}</span>: ${bestTime}`;
                }
            });
        }

        let currentMode = localStorage.getItem('sudoku_mode') || 'classic';

        function setMode(mode) {
            currentMode = mode;
            localStorage.setItem('sudoku_mode', mode);
            updateModeUI();
        }

        function updateModeUI() {
            const classicBtn = document.getElementById('mode-classic');
            const zenBtn = document.getElementById('mode-zen');
            const timeattackBtn = document.getElementById('mode-timeattack');
            const description = document.getElementById('mode-description');

            // Reset all buttons
            const inactiveClass = 'flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300';
            classicBtn.className = inactiveClass;
            zenBtn.className = inactiveClass;
            timeattackBtn.className = inactiveClass;

            if (currentMode === 'classic') {
                classicBtn.className = 'flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 bg-primary text-white';
                description.textContent = t('classicDesc');
            } else if (currentMode === 'zen') {
                zenBtn.className = 'flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 bg-gradient-to-r from-purple-500 to-violet-500 text-white';
                description.textContent = t('zenDesc');
            } else if (currentMode === 'timeattack') {
                timeattackBtn.className = 'flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 bg-gradient-to-r from-amber-500 to-red-500 text-white';
                description.textContent = t('timeAttackDesc');
            }
        }

        function startGame(difficulty) {
            localStorage.setItem('sudoku_difficulty', difficulty);
            localStorage.removeItem('sudoku_current_game'); // Start fresh
            window.location.href = 'game.html';
        }

        // Apply translations on load
        document.addEventListener('DOMContentLoaded', () => {
            loadBestTimes();
            updateModeUI();
            applyTranslations();
        });
    </script>
</body>

</html>